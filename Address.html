<!DOCTYPE html>
<html>
	<head>
		<meta charset="utf-8" />
		<title>Address</title>
		<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, minimum-scale=1.0, user-scalable=no">
		<link rel="stylesheet" type="text/css" href="css/style.css">
		<script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
	</head>
	<body>
		<div class="two-box">
			<div class="header">
				<img src="./img/titlefh.png">
				Address
			</div>
			<div class="Addressbox">
				<div class="warp">
				    <div class="address">No. xx, Unit xx, Building xx, xx Community, xx Street, Changping District, Beijing</div>
				    <div class="Consignee">
				        <label>Consignee: </label>
				        <div class="input">
				            <p>1</p>
				        </div>
				    </div>
				    <div class="Consignee">
				        <label>Telephone:</label>
				        <div class="input">
				            <p>1</p>
				        </div>
				    </div>
				    <div class="del"><img src="./img/Delete-five.png" alt="删除"></div>
				    <div class="modify"><img src="./img/Edit-two.png" alt="修改"></div>
				</div>
				<div class="warp">
				    <div class="address">No. xx, Unit xx, Building xx, xx Community, xx Street, Changping District, Beijing</div>
				    <div class="Consignee">
				        <label>Consignee: </label>
				        <div class="input">
				            <p>1</p>
				        </div>
				    </div>
				    <div class="Consignee">
				        <label>Telephone:</label>
				        <div class="input">
				            <p>1</p>
				        </div>
				    </div>
				    <div class="del"><img src="./img/Delete-five.png" alt="删除"></div>
				    <div class="modify"><img src="./img/Edit-two.png" alt="修改"></div>
				</div>
			</div>
		</div>
	</body>
	<style type="text/css">
		html,body{
			width: 100%;
			height: 100%;
			margin:0;
			padding: 0;
		}
	</style>
	<script>
	   document.addEventListener('DOMContentLoaded', function() {
	       // 使用事件委托来处理.warp内的点击事件
	       document.body.addEventListener('click', function(event) {
	           var warp = event.target.closest('.warp');
	           if (warp) {
	               var modifyBtn = warp.querySelector('.modify img');
	               var delBtn = warp.querySelector('.del img');
	   
	               // 修改按钮点击事件
	               if (modifyBtn && event.target.closest('.modify img')) {
	                   var address = warp.querySelector('.address').innerText;
	                   var consigneeInput = warp.querySelector('.Consignee:nth-child(2) .input');
	                   var telephoneInput = warp.querySelector('.Consignee:nth-child(3) .input');
	                   var consigneeValue = consigneeInput.querySelector('p').innerText;
	                   var telephoneValue = telephoneInput.querySelector('p').innerText;
	   
	                   // 将文本转换为输入框（对于地址，使用textarea）
	                   warp.querySelector('.address').innerHTML = `<textarea>${address}</textarea>`;
	                   consigneeInput.innerHTML = `<input type="text" value="${consigneeValue}">`;
	                   telephoneInput.innerHTML = `<input type="text" value="${telephoneValue}">`;
	   
	                   // 更改删除按钮的图标（这里假设你有一个函数或方法来更改图标）
	                   changeIcon(delBtn, "./img/answer.png"); // 假设这个函数负责更改图标
	   
	                   // 禁用修改按钮（可选）
	                   modifyBtn.style.display = 'none';
	   
	                   // 添加提交功能到删除按钮（这里我们重新为它分配一个点击事件处理器，因为它已经改变了）
	                   function handleSubmit() {
	                       // 获取新值
	                       var newAddress = warp.querySelector('.address textarea').value;
	                       var newConsignee = consigneeInput.querySelector('input').value;
	                       var newTelephone = telephoneInput.querySelector('input').value;
	   
	                       // 更新为普通文本
	                       warp.querySelector('.address').innerText = newAddress;
	                       consigneeInput.innerHTML = `<p>${newConsignee}</p>`;
	                       telephoneInput.innerHTML = `<p>${newTelephone}</p>`;
	   
	                       // 恢复删除按钮的图标（这里假设你有一个函数或方法来恢复图标）
	                       changeIcon(delBtn, "./img/Delete-five.png"); // 假设这个函数负责恢复图标
	   
	                       // 重新启用修改按钮（可选）
	                       modifyBtn.style.display = 'inline';
	   
	                       // 移除当前点击事件监听器（因为我们已经提交了一次，不需要再次提交）
	                       delBtn.removeEventListener('click', handleSubmit);
	                   }
	   
	                   // 为删除按钮添加点击事件监听器
	                   delBtn.addEventListener('click', handleSubmit);
	   
	                   // 阻止事件冒泡，避免触发其他可能的点击事件（可选）
	                   event.stopPropagation();
	               }
	           }
	       });
	   
	       // 假设的更改图标函数（你需要根据你的实际实现来替换这个函数）
	       function changeIcon(element, src) {
	           element.src = src;
	       }
	   });
	</script>
</html>
